<?php

declare(strict_types=1);

/*
 * This file is part of SolidInvoice project.
 *
 * (c) 2013-2017 Pierre du Plessis <info@customscripts.co.za>
 *
 * This source file is subject to the MIT license that is bundled
 * with this source code in the file LICENSE.
 */

namespace SolidInvoice\CoreBundle\Twig\Extension;

use Carbon\Carbon;
use DateTime;
use SolidInvoice\CoreBundle\Pdf\Generator;
use SolidInvoice\CoreBundle\SolidInvoiceCoreBundle;
use SolidInvoice\MoneyBundle\Calculator;
use SolidInvoice\SettingsBundle\Exception\InvalidSettingException;
use Symfony\Component\DependencyInjection\ContainerAwareInterface;
use Symfony\Component\DependencyInjection\ContainerAwareTrait;
use Symfony\Component\DependencyInjection\Exception\InvalidArgumentException;
use Symfony\Component\DependencyInjection\Exception\ServiceCircularReferenceException;
use Symfony\Component\DependencyInjection\Exception\ServiceNotFoundException;
use Twig\Environment;
use Twig\Error\LoaderError;
use Twig\Error\SyntaxError;
use Twig\Extension\AbstractExtension;
use Twig\Extension\GlobalsInterface;
use Twig\TwigFilter;
use Twig\TwigFunction;

class GlobalExtension extends AbstractExtension implements GlobalsInterface, ContainerAwareInterface
{
    use ContainerAwareTrait;

    const DEFAULT_LOGO = 'png|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/GMzLdsAADoyaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzAxNCA3OS4xNTY3OTcsIDIwMTQvMDgvMjAtMDk6NTM6MDIgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE0IChXaW5kb3dzKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNS0wMi0wOVQxMDo0ODoxMiswMjowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTUtMDItMDlUMTA6NDg6MTIrMDI6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE1LTAyLTA5VDEwOjQ4OjEyKzAyOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDoxNGJiZTdlNC05ODc1LTAwNDMtOTRiNS03ZTYyMTM2ZDgzZWU8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1OTM4OGEwYS1iMDM4LTExZTQtYjE4Yy1lNTQwOGI2ZGU3Njg8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDo0ZTU3MWQ4Yy1iNjQ3LWU3NGItOTQ5Zi04OWYwMThlZGZkNTY8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NGU1NzFkOGMtYjY0Ny1lNzRiLTk0OWYtODlmMDE4ZWRmZDU2PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE1LTAyLTA5VDEwOjQ4OjEyKzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjE0YmJlN2U0LTk4NzUtMDA0My05NGI1LTdlNjIxMzZkODNlZTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNS0wMi0wOVQxMDo0ODoxMiswMjowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjQ5OTwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj40MDE8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pp6xx1sAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAMgVJREFUeNrs3XmcXGWd9/3PqaWXdKfT2TcCwZANIQtJ2EE2AUUkjgZB4ZZxG2VuBxwVb1GDtM44wujjNjqDjoqgMpRLBllEBPdtUHBUArJISFiypzvpLN3VXef5o6pDp9N7ajtVn/frVenq6kotv3N1fft3lusEYRgiSZKiK2YJJEkyzCVJkmEuSZIMc0mSDHNJkmSYS5Ikw1ySJBnmkiQZ5pIkyTCXJEmGuSRJMswlSTLMJUmSYS5JkgoqUegnCILAKlexlzx87Azgb4CTCVkUEh4GjAMgJAS2A48DDxPye+DBEP68bvmfPTevNARPYa39WVvowWCYV22IHwd8DDgfCHLhncvvnk+ivp9M+79sAn4AfJ+Qu9at+PM+KyoZ5jLMVawQ/8OxAfAuQj69P8R7hfUww7z3bTuB/4Lw5nUrHvmlFZYMcxnmKqA5fzj2zBA+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';

    /**
     * @var Calculator
     */
    private $calculator;

    /**
     * @var Generator
     */
    private $pdfGenerator;

    public function __construct(Calculator $calculator, Generator $pdfGenerator)
    {
        $this->calculator = $calculator;
        $this->pdfGenerator = $pdfGenerator;
    }

    /**
     * Get global twig variables.
     *
     * @return array
     *
     * @throws InvalidSettingException|InvalidArgumentException|ServiceCircularReferenceException|ServiceNotFoundException
     */
    public function getGlobals(): array
    {
        $globals = [
            'query' => $this->getQuery(),
            'app_version' => SolidInvoiceCoreBundle::VERSION,
            'app_name' => SolidInvoiceCoreBundle::APP_NAME,
        ];

        if ($this->container->getParameter('installed')) {
            $globals['app_name'] = $this->container->get('settings')->get('system/company/company_name');
        }

        return $globals;
    }

    /**
     * Get the url query.
     *
     * @return array
     *
     * @throws ServiceCircularReferenceException|ServiceNotFoundException
     */
    protected function getQuery(): array
    {
        $request = $this->container->get('request_stack')->getCurrentRequest();

        if (!$request) {
            return [];
        }

        $params = array_merge($request->query->all(), $request->attributes->all());

        foreach (array_keys($params) as $key) {
            if ('_' == substr($key, 0, 1)) {
                unset($params[$key]);
            }
        }

        return $params;
    }

    /**
     * {@inheritdoc}
     */
    public function getFilters()
    {
        return [
            new TwigFilter('percentage', [$this->calculator, 'calculatePercentage']),
            new TwigFilter('diff', [$this, 'dateDiff']),
            new TwigFilter('md5', 'md5'),
        ];
    }

    /**
     * {@inheritdoc}
     */
    public function getFunctions()
    {
        return [
            new TwigFunction('icon', [$this, 'displayIcon'], ['is_safe' => ['html']]),
            new TwigFunction('app_logo', [$this, 'displayAppLogo'], ['is_safe' => ['html'], 'needs_environment' => true]),
            new TwigFunction('can_print_pdf', [$this->pdfGenerator, 'canPrintPdf']),
        ];
    }

    /**
     * @param Environment $env
     *
     * @return string
     *
     * @throws InvalidArgumentException|ServiceCircularReferenceException|ServiceNotFoundException|LoaderError|SyntaxError
     */
    public function displayAppLogo(Environment $env): string
    {
        $config = $this->container->get('settings');

        $logo = self::DEFAULT_LOGO;

        if ($this->container->getParameter('installed')) {
            try {
                $logo = $config->get('system/company/logo');

                if (null === $logo) {
                    $logo = self::DEFAULT_LOGO;
                }
            } catch (InvalidSettingException $e) {
                $logo = self::DEFAULT_LOGO;
            }
        }

        [$type, $logo] = explode('|', $logo);

        return $env->createTemplate('<img src="data:image/{{ type }};base64,{{ logo }}" class="inline" style="max-width: 50px; display: inline"/>')->render(['type' => $type, 'logo' => $logo]);
    }

    /**
     * Displays an icon.
     *
     * @param string $iconName
     * @param array  $options
     *
     * @return string
     */
    public function displayIcon(string $iconName, array $options = []): string
    {
        $options = implode(' ', $options);
        $class = sprintf('fas fa-%s', $iconName);

        if (!empty($options)) {
            $class .= ' '.$options;
        }

        return sprintf('<i class="%s"></i>', $class);
    }

    /**
     * Returns a human-readible diff for dates.
     *
     * @param DateTime $date
     *
     * @return string
     */
    public function dateDiff(DateTime $date): string
    {
        $carbon = Carbon::instance($date);

        return $carbon->diffForHumans();
    }
}
